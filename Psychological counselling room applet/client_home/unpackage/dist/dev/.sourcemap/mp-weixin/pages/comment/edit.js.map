{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/comment/edit.vue?b3dc","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/comment/edit.vue?7b54","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/comment/edit.vue?f854","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/comment/edit.vue?517c","uni-app:///pages/comment/edit.vue","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/comment/edit.vue?b3dd","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/comment/edit.vue?7c1d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","mixins","components","data","oauth","form","content","color","r","g","b","a","isEdit","fontColor","formats","readOnly","placeholder","editorHeight","keyboardHeight","isIOS","editoValue","query","nickname","onLoad","_self","methods","cancel","open","hideKey","uni","confirm","e","detail","readOnlyChange","onEditorReady","console","undo","redo","blur","format","name","value","onStatusChange","insertDivider","success","store","url","clear","removeFormat","insertDate","text","insertImage","count","src","id","role","width","publish","content_promise","resolve","fail","reject","obj_url","body","user_id","avatar"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACqC;;;AAGxF;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC2FlnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AAAA,eAEA;EACAC;EACAC;IACA;EACA;EACAC;IACA;MACA;MACAC;QACA;QACA;MACA;MACAC;QACAC;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAb;MACAc;MACAC;QACAC;MACA;IAEA;EACA;EACAC;IACAC;EACA;EAEAC;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACAC;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBAAA;gBAAA,OACAC;cAAA;gBAAA;gBACA;kBACAC;oBACAzB;kBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA0B;MACA;IACA;IACAC;MAAA;MACAL;QACAM;QACA;MACA;IACA;IACAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;MACA,wBAGAR;QAFAS;QACAC;MAEA;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;QACAC;UACAT;QACA;MACA;IACA;IAEAU;MACA;QACAD;UACAb;YACAe;UACA;QACA;MACA;IACA;IAEAC;MACA;QACAH;UACAT;QACA;MACA;IACA;IAEAa;MACA;IACA;IAEAC;MACA;MACA;MACA;QACAC;MACA;IACA;IAEAC;MACA;MACAtB;QACAuB;QACAR;UACApB;YACA6B;YACAlD;cACAmD;cACAC;YACA;YACAC;YACAZ;cACAT;YACA;UACA;QACA;MACA;IACA;IACA;IACAsB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;kBACA;oBACAd;sBACAe;oBACA;oBACAC;sBACAC;oBACA;kBACA;gBACA;gBAAA;gBAAA,OACAH;kBAAA;gBAAA;cAAA;gBAAApD;gBACAwD;gBACAC;kBACAC;kBACA1C;kBACA2C;kBACA3D;gBACA;gBACA6B;gBACA;kBACA;oBACA;oBACAA;oBACA;oBACA;kBACA;oBACAA;oBACA;kBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACtSA;AAAA;AAAA;AAAA;AAAw4B,CAAgB,y4BAAG,EAAC,C;;;;;;;;;;;ACA55B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/comment/edit.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/comment/edit.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./edit.vue?vue&type=template&id=5fed9bb3&scoped=true&\"\nvar renderjs\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=5fed9bb3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fed9bb3\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/comment/edit.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./edit.vue?vue&type=template&id=5fed9bb3&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./edit.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"page_comment\" id=\"comment_edit\">\n\t\t<!-- 评论区 -->\n\t\t<view class=\"form_editor\">\n\t\t\t<view class=\"container_edit\">\n\t\t\t\t<view class=\"comment_auth\" v-if=\"query.nickname\">\n\t\t\t\t\t对 {{ query.nickname }} 回复...\n\t\t\t\t\t\n\t\t\t\t</view>\n\t\t\t\t<editor id=\"editor\" show-img-size :read-only=\"isEdit\" show-img-resize show-img-toolbar\n\t\t\t\t\tclass=\"ql-container\" :placeholder=\"placeholder\" @statuschange=\"onStatusChange\"\n\t\t\t\t\t@ready=\"onEditorReady\" :value=\"editoValue\">\n\t\t\t\t</editor>\n\t\t\t\t<view class=\"btn_publish\" @click=\"publish()\" type=\"default\">发表</view>\n\t\t\t</view>\n\t\t\t<view class=\"toolbar\" @touchend.stop=\"format\" :style=\"'bottom: ' + (isIOS ? keyboardHeight : 0) + 'px'\">\n\t\t\t\t<i class=\"iconfont icon-charutupian\" @touchend.stop=\"insertImage\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-format-header-1 ' + (formats.header === 1 ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"header\" :data-value=\"1\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-format-header-2 ' + (formats.header === 2 ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"header\" :data-value=\"2\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-format-header-3 ' + (formats.header === 3 ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"header\" :data-value=\"3\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-format-header-4 ' + (formats.header === 4 ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"header\" :data-value=\"4\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-format-header-5 ' + (formats.header === 5 ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"header\" :data-value=\"5\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-format-header-6 ' + (formats.header === 6 ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"header\" :data-value=\"6\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-zitijiacu ' + (formats.bold ? 'ql-active' : '')\" data-name=\"bold\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-zitishanchuxian ' + (formats.strike ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"strike\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-zitixieti ' + (formats.italic ? 'ql-active' : '')\" data-name=\"italic\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-zuoduiqi ' + (formats.align === 'left' ? 'ql-active' : '')\" data-name=\"align\"\n\t\t\t\t\tdata-value=\"left\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-juzhongduiqi ' + (formats.align === 'center' ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"align\" data-value=\"center\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-youduiqi ' + (formats.align === 'right' ? 'ql-active' : '')\" data-name=\"align\"\n\t\t\t\t\tdata-value=\"right\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-zuoyouduiqi ' + (formats.align === 'justify' ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"align\" data-value=\"justify\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-line-height ' + (formats.lineHeight ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"lineHeight\" data-value=\"2\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-Character-Spacing ' + (formats.letterSpacing ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"letterSpacing\" data-value=\"2em\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-722bianjiqi_duanqianju ' + (formats.marginTop ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"marginTop\" data-value=\"20px\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-723bianjiqi_duanhouju ' + (formats['micon-previewarginBottom'] ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"marginBottom\" data-value=\"20px\"></i>\n\t\t\t\t<i class=\"iconfont icon-clearedformat\" @tap=\"removeFormat\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-font ' + (formats.fontFamily ? 'ql-active' : '')\" data-name=\"fontFamily\"\n\t\t\t\t\tdata-value=\"Pacifico\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-fontsize ' + (formats.fontSize === '24px' ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"fontSize\" data-value=\"24px\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-text_color ' + (formats.color === fontColor ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"color\" :data-value=\"fontColor\" @tap=\"open\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-fontbgcolor ' + (formats.backgroundColor === '#00ff00' ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"backgroundColor\" data-value=\"#00ff00\"></i>\n\t\t\t\t<!-- color取色器 -->\n\t\t\t\t<i class=\"iconfont icon-date\" @tap=\"insertDate\"></i>\n\t\t\t\t<i class=\"iconfont icon-undo\" @tap=\"undo\"></i>\n\t\t\t\t<i class=\"iconfont icon-redo\" @tap=\"redo\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-zitixiahuaxian ' + (formats.underline ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"underline\"></i>\n\t\t\t\t<i class=\"iconfont icon--checklist\" data-name=\"list\" data-value=\"check\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-youxupailie ' + (formats.list === 'ordered' ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"list\" data-value=\"ordered\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-wuxupailie ' + (formats.list === 'bullet' ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"list\" data-value=\"bullet\"></i>\n\t\t\t\t<i class=\"iconfont icon-outdent\" data-name=\"indent\" data-value=\"-1\"></i>\n\t\t\t\t<i class=\"iconfont icon-indent\" data-name=\"indent\" data-value=\"+1\"></i>\n\t\t\t\t<i class=\"iconfont icon-fengexian\" @tap=\"insertDivider\"></i>\n\t\t\t\t<i class=\"iconfont icon-preview\" @tap=\"store\" id=\"2\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-zitixiabiao ' + (formats.script === 'sub' ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"script\" data-value=\"sub\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-zitishangbiao ' + (formats.script === 'super' ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"script\" data-value=\"super\"></i>\n\t\t\t\t<!-- <i class=\"iconfont icon-quanping\"></i> -->\n\t\t\t\t<i class=\"iconfont icon-shanchu\" @tap=\"clear\"></i>\n\t\t\t\t<i :class=\"'iconfont icon-direction-rtl ' + (formats.direction === 'rtl' ? 'ql-active' : '')\"\n\t\t\t\t\tdata-name=\"direction\" data-value=\"rtl\"></i>\n\t\t\t\t<i class=\"iconfont icon-baocun\" @tap=\"store\" id=\"1\"></i>\n\n\t\t\t</view>\n\t\t\t<t-color-picker ref=\"colorPicker\" :color=\"color\" @confirm=\"confirm\" @cancel=\"cancel\"></t-color-picker>\n\t\t</view>\n\t\t<!-- /评论区 -->\n\t</view>\n</template>\n\n<script>\n\timport mixin from \"@/libs/mixins/page.js\"\n\timport tColorPicke from '@/components/diy/t-color-picker.vue';\n\tvar _self;\n\n\texport default {\n\t\tmixins: [mixin],\n\t\tcomponents: {\n\t\t\t't-color-picker': tColorPicke\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t// 登录权限\n\t\t\t\toauth: {\n\t\t\t\t\t\"signIn\": true,\n\t\t\t\t\t\"user_group\": []\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tcontent: \"ceshi\"\n\t\t\t\t},\n\t\t\t\tcolor: {\n\t\t\t\t\tr: 255,\n\t\t\t\t\tg: 0,\n\t\t\t\t\tb: 0,\n\t\t\t\t\ta: 0.6\n\t\t\t\t},\n\t\t\t\tisEdit: false,\n\t\t\t\tfontColor: '#000',\n\t\t\t\tformats: {},\n\t\t\t\treadOnly: false,\n\t\t\t\tplaceholder: '开始输入...',\n\t\t\t\teditorHeight: 300,\n\t\t\t\tkeyboardHeight: 0,\n\t\t\t\tisIOS: false,\n\t\t\t\tcontent: \"\",\n\t\t\t\teditoValue: \"\",\n\t\t\t\tquery: {\n\t\t\t\t\tnickname: ''\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\t_self = this;\n\t\t},\n\n\t\tmethods: {\n\t\t\tcancel() {\n\t\t\t\tthis.isEdit = false;\n\t\t\t},\n\t\t\topen() {\n\t\t\t\tthis.$refs.colorPicker.open();\n\t\t\t\tthis.isEdit = true;\n\t\t\t\t// uni.hideKeyboard();\n\t\t\t},\n\t\t\thideKey() {\n\t\t\t\tuni.hideKeyboard();\n\t\t\t},\n\t\t\tasync confirm(e) {\n\t\t\t\tthis.isEdit = false;\n\t\t\t\tthis.fontColor = await e.hex;\n\t\t\t\tthis.onStatusChange({\n\t\t\t\t\tdetail: {\n\t\t\t\t\t\tcolor: e.hex\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.$forceUpdate();\n\t\t\t},\n\t\t\treadOnlyChange() {\n\t\t\t\tthis.readOnly = !this.readOnly\n\t\t\t},\n\t\t\tonEditorReady() {\n\t\t\t\tuni.createSelectorQuery().select('#editor').context((res) => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tthis.editorCtx = res.context\n\t\t\t\t}).exec()\n\t\t\t},\n\t\t\tundo() {\n\t\t\t\tthis.editorCtx.undo();\n\t\t\t},\n\n\t\t\tredo() {\n\t\t\t\tthis.editorCtx.redo();\n\t\t\t},\n\n\t\t\tblur() {\n\t\t\t\tthis.editorCtx.blur();\n\t\t\t},\n\n\t\t\tformat(e) {\n\t\t\t\t// this.hideKey();\n\t\t\t\tlet {\n\t\t\t\t\tname,\n\t\t\t\t\tvalue\n\t\t\t\t} = e.target.dataset;\n\t\t\t\tif (!name) return; // console.log('format', name, value)\n\t\t\t\tthis.editorCtx.format(name, value);\n\t\t\t},\n\n\t\t\tonStatusChange(e) {\n\t\t\t\tthis.formats = e.detail;\n\t\t\t},\n\n\t\t\tinsertDivider() {\n\t\t\t\tthis.editorCtx.insertDivider({\n\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\tconsole.log('insert divider success');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tstore(e) {\n\t\t\t\tthis.editorCtx.getContents({\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\te.currentTarget.id == 1 ? console.log('保存内容:', res.html) : uni.navigateTo({\n\t\t\t\t\t\t\turl: `../preview/preview?rich=${encodeURIComponent(res.html)}`\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tclear() {\n\t\t\t\tthis.editorCtx.clear({\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tconsole.log(\"clear success\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tremoveFormat() {\n\t\t\t\tthis.editorCtx.removeFormat();\n\t\t\t},\n\n\t\t\tinsertDate() {\n\t\t\t\tconst date = new Date();\n\t\t\t\tconst formatDate = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;\n\t\t\t\tthis.editorCtx.insertText({\n\t\t\t\t\ttext: formatDate\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tinsertImage() {\n\t\t\t\t// const that = this;\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 1,\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t_self.editorCtx.insertImage({\n\t\t\t\t\t\t\tsrc: res.tempFilePaths[0],\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tid: 'abcd',\n\t\t\t\t\t\t\t\trole: 'god'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\twidth: '80%',\n\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\tconsole.log('insert image success');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 发送按钮\n\t\t\tasync publish() {\n\t\t\t\tvar content_promise = new Promise((resolve, reject) => {\n\t\t\t\t\tthis.editorCtx.getContents({\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tresolve(res)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (res) => {\n\t\t\t\t\t\t\treject(res)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\tvar content = await content_promise.then(res => res.html);\n\t\t\t\tvar obj_url = getCurrentPages()[getCurrentPages().length - 1]\n\t\t\t\tvar body = Object.assign({}, obj_url.options, {\n\t\t\t\t\tuser_id: this.$store.state.user.user_id,\n\t\t\t\t\tnickname: this.$store.state.user.nickname,\n\t\t\t\t\tavatar: this.$store.state.user.avatar,\n\t\t\t\t\tcontent\n\t\t\t\t})\n\t\t\t\tconsole.log(body);\n\t\t\t\tthis.$post('~/api/comment/add?', body, (res) => {\n\t\t\t\t\tif (res.result) {\n\t\t\t\t\t\tthis.$toast(res.result, 'success');\n\t\t\t\t\t\tconsole.log(res.result, 'success');\n\t\t\t\t\t\tvar url = this.$redirect();\n\t\t\t\t\t\tthis.$nav(url);\n\t\t\t\t\t} else if (res.error) {\n\t\t\t\t\t\tconsole.log(res.error.message, 'error');\n\t\t\t\t\t\tthis.$toast(res.error.message, 'error');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t//插入一条留言\n\t\t\t\t// this.$post('~/api/message/add?', body, (res) => {\n\t\t\t\t// \tif (res.result) {\n\t\t\t\t// \t\tthis.$toast(res.result, 'success');\n\t\t\t\t// \t\tvar url = this.$redirect();\n\t\t\t\t// \t\tthis.$nav(url);\n\t\t\t\t// \t} else if (res.error) {\n\t\t\t\t// \t\tthis.$toast(res.error.message, 'error');\n\t\t\t\t// \t}\n\t\t\t\t// })\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t@import \"/static/css/editor.css\";\n\t#editor{\n\t\tbackground-color: #fff;\n\t}\n\t.comment_auth {\n\t\tpadding-left: 10px;\n\t}\n\t.btn_publish{\n\t\tpadding: 0.5rem 0.25rem;\n\t\tfont-weight: 600;\n\t\tfont-size: 1.25rem;\n\t\tborder-radius: 2rem;\n\t\tbackground-color: var(--color_primary);\n\t\tcolor: #fff;\n\t\ttext-align: center;\n\t\tmargin: 0 1rem ;\n\t\tmargin-top: 1rem;\n\t}\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./edit.vue?vue&type=style&index=0&id=5fed9bb3&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./edit.vue?vue&type=style&index=0&id=5fed9bb3&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1677921857788\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}