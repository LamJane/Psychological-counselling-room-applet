{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/account/register.vue?2e3c","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/account/register.vue?a6f1","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/account/register.vue?58a0","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/account/register.vue?19d7","uni-app:///pages/account/register.vue","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/account/register.vue?f8ad","webpack:///C:/Users/53013/Desktop/心理咨询室小程序/client_home/pages/account/register.vue?8faa"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","form_system_user","form_consultant","mixins","data","url_submit","form","nickname","username","password","email","phone","user_group","form_sub","confirm_password","rules","required","errorMessage","minLength","maxLength","format","list_user_group","methods","as","bl","getObj","obj","getVal","handleSubFormChange","submit","param","pm","msg","console","ret","submit_before","submit_check","email_regular","phone_regular","p","res","submit_after","get_register","submit_sub","_this","setTimeout","select_group","get_list_user_group","onLoad","onReady"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,aAAa,4NAEN;AACP,KAAK;AACL;AACA,aAAa,4QAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC2EtnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAMA;EACAC;IACA;IACAC;IACA;IACAC;EACA;EACAC;EACAC;IACA;MACAC;MAEAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MAEAC,WAEA;MAEA;MACAC;MAEA;MACAC;QACAP;UACAO;YACAC;YACAC;UACA,GACA;YACAC;YACAC;YACAF;UACA;QAEA;QACAR;UACAM;YACAC;YACAC;UACA,GACA;YACAC;YACAC;YACAF;UACA;QAEA;QACAH;UACAC;YACAC;YACAC;UACA,GACA;YACAC;YACAC;YACAF;UACA;QAEA;QACAV;UACAQ;YACAG;YACAC;YACAF;UACA;QACA;QACAP;UACAK;YACAK;YACAH;UACA;QACA;QACAL;UACAG;YACAC;YACAC;UACA;QACA;MACA;MAEA;MACAI;IACA;EACA;EACAC;IACAC;MACA;QACA;QACA;QACA;UACA;UACAC;QACA;UACAA;QACA;UACA;UACA;UACA;YACA;YACAA;UACA;YACA;YACA;cACA;gBACAA;gBACA;cACA;YACA;UACA;QACA;UACA;UACA;YACA;YACAA;UACA;YACA;YACA;cACA;gBACAA;gBACA;cACA;YACA;UACA;QACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;QACA;UACA;UACA;YACAC;YACA;UACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;kBACAC;gBACA;gBACA;gBACAC,wEACA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBAEAC;gBACA;gBACA;kBACA;gBACA;kBACA;kBACAC;gBACA;gBACA;gBAAA,iCACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;AACA;AACA;AACA;IACAC;MACA;MACA,4BACA;MACA,2BACA;IACA;IAEA;AACA;AACA;AACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAF;gBAEAG;gBACAC;gBAEA9B;gBAEAM;gBAEAmB;gBAEA;kBACAC;gBACA,OACA;kBACAA;gBACA,OACA;kBACAA;gBACA,OACA;kBACAA;gBACA,OACA;kBACAA;gBACA,OACA;kBACAA;gBACA,OACA;kBACAA;gBACA,OACA;kBACAA;gBACA,OACA;kBACAA;gBACA;gBAEA;kBACA;oBACArB;kBACA;kBACA;oBACAA;kBACA;gBACA;gBAEA0B;kBAAA;gBAAA;gBAAA,IAEAL;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAM;gBAEA;kBACAN;gBACA;cAAA;gBAAA,kCAGAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAO;MACA;MACA;MACAR;MACA;QAAA;MAAA;MACAA;MACA;QACA;MACA;QACAA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAS;MAAA;MACA;MACA;QACAT;QACA;UACApB;UACA;QACA;UACAoB;UACA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAU;MAAA;MACA;MACA;QACAV;QACA;UACAW;UACAC;YACA;UACA;QACA,OACA;UACAZ;UACA;QACA;MACA;IACA;IAEA;IACAa;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACA;UACA;QACA;UACAd;UACA;QACA;MACA;IACA;EACA;EACAe;IACA;EACA;EACAC,6BAEA;AACA;AAAA,2B;;;;;;;;;;;;AC9aA;AAAA;AAAA;AAAA;AAAo3B,CAAgB,q3BAAG,EAAC,C;;;;;;;;;;;ACAx4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/account/register.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/account/register.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./register.vue?vue&type=template&id=0c670b84&\"\nvar renderjs\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/account/register.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./register.vue?vue&type=template&id=0c670b84&\"","var components\ntry {\n  components = {\n    uniForms: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-forms/uni-forms\" */ \"@/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniFormsItem: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-forms-item/uni-forms-item\" */ \"@/components/uni-forms-item/uni-forms-item.vue\"\n      )\n    },\n    uniEasyinput: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-easyinput/uni-easyinput\" */ \"@/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./register.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page_account\" id=\"account_register\">\r\n\t\t<view>\r\n\t\t\t<view class=\"mm_container\">\r\n\t\t\t\t<view class=\"row\">\r\n\t\t\t\t\t<view class=\"col-12 col-sm-6 col-md-4 col-xl-3\">\r\n\t\t\t\t\t\t<view class=\"register_view\">\r\n\t\t\t\t\t\t\t<uni-forms class=\"form_register\" :rules=\"rules\" :value=\"form\" ref=\"form\"\r\n\t\t\t\t\t\t\t\tvalidate-trigger=\"bind\" err-show-type=\"undertext\">\r\n\t\t\t\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t\t\t\t<text>注册</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<uni-forms-item class=\"username\"  name=\"username\" required label=\"账号\">\r\n\t\t\t\t\t\t\t\t\t<uni-easyinput type=\"text\" :inputBorder=\"true\" v-model=\"form.username\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入账号\"></uni-easyinput>\r\n\t\t\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<uni-forms-item class=\"password\" name=\"password\" required label=\"密码\">\r\n\t\t\t\t\t\t\t\t\t<uni-easyinput type=\"password\" :inputBorder=\"true\" v-model=\"form.password\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入密码\"></uni-easyinput>\r\n\t\t\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<uni-forms-item class=\"confirm_password\" name=\"confirm_password\" required label=\"确认密码\">\r\n\t\t\t\t\t\t\t\t\t<uni-easyinput type=\"password\" :inputBorder=\"true\" v-model=\"confirm_password\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"请再次输入密码\"></uni-easyinput>\r\n\t\t\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<uni-forms-item  class=\"nickname\" name=\"nickname\" label=\"昵称\">\r\n\t\t\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"form.nickname\" placeholder=\"请输入昵称\">\r\n\t\t\t\t\t\t\t\t\t</uni-easyinput>\r\n\t\t\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<uni-forms-item name=\"email\" label=\"邮箱\">\r\n\t\t\t\t\t\t\t\t\t<uni-easyinput type=\"email\" v-model=\"form.email\" placeholder=\"请输入邮箱\">\r\n\t\t\t\t\t\t\t\t\t</uni-easyinput>\r\n\t\t\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<uni-forms-item class=\"emails\" name=\"phone\" label=\"手机\">\r\n\t\t\t\t\t\t\t\t\t<uni-easyinput type=\"phone\" v-model=\"form.phone\" placeholder=\"请输入手机\">\r\n\t\t\t\t\t\t\t\t\t</uni-easyinput>\r\n\t\t\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<uni-forms-item class=\"user_group\" name=\"user_group\" label=\"身份\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"group_selector\">\r\n\t\t\t\t\t\t\t\t\t\t<picker mode=\"selector\" :range=\"list_user_group\" range-key=\"name\" @change=\"select_group\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ form.user_group ? form.user_group : '选择身份' }}\r\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons style=\"padding-left: 0.5rem;\" type=\"arrowdown\" size=\"16\">\r\n\t\t\t\t\t\t\t\t\t\t\t</uni-icons>\r\n\t\t\t\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</uni-forms-item>\r\n\r\n\t\t\t\t\t\t\t\t\t<!-- 系统用户 -->\r\n\t\t\t\t\t\t\t\t<form_system_user v-if=\"form.user_group === '系统用户'\" @change=\"handleSubFormChange\" :form=\"form_sub\" ></form_system_user>\r\n\t\t\t\t\t\t\t\t\t\t<!-- 咨询师 -->\r\n\t\t\t\t\t\t\t\t<form_consultant v-if=\"form.user_group === '咨询师'\" @change=\"handleSubFormChange\" :form=\"form_sub\" ></form_consultant>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<view class=\"btn_register\" @click=\"submit()\">立即注册</view>\r\n\t\t\t\t\t\t\t\t<view class=\"btn_all\">\r\n\t\t\t\t\t\t\t\t<navigator url=\"./login\">返回登录</navigator>\r\n\t\t\t\t\t\t\t\t<navigator url=\"./forgot\">忘记密码</navigator>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</uni-forms>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n\timport mixin from \"@/libs/mixins/page.js\"\r\n\t\t/* 系统用户 */\r\n\timport form_system_user from \"@/components/diy/form_system_user\";\r\n\t\t\t/* 咨询师 */\r\n\timport form_consultant from \"@/components/diy/form_consultant\";\r\n\t\t\t\t\t\t\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\t\t/* 系统用户 */\r\n\t\t\tform_system_user,\r\n\t\t\t\t\t/* 咨询师 */\r\n\t\t\tform_consultant,\r\n\t\t\t\t\t\t\t},\r\n\t\tmixins: [mixin],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\turl_submit: \"~/api/user/register?\",\r\n\t\t\t\t\r\n\t\t\t\tform: {\r\n\t\t\t\t\tnickname: \"\",\r\n\t\t\t\t\tusername: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tuser_group: ''\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\tform_sub: {\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t// 确认密码\r\n\t\t\t\tconfirm_password: '',\r\n\t\t\t\t\r\n\t\t\t\t// 校验\r\n\t\t\t\trules: {\r\n\t\t\t\t\tusername: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\terrorMessage: '请输入用户名'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tminLength: 5,\r\n\t\t\t\t\t\t\t\tmaxLength: 16,\r\n\t\t\t\t\t\t\t\terrorMessage: '用户名长度在 {minLength} 到 {maxLength} 个字符'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpassword: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\terrorMessage: '请输入密码'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tminLength: 5,\r\n\t\t\t\t\t\t\t\tmaxLength: 16,\r\n\t\t\t\t\t\t\t\terrorMessage: '密码长度在 {minLength} 到 {maxLength} 个字符'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tconfirm_password: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\terrorMessage: '请输入确认密码'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tminLength: 5,\r\n\t\t\t\t\t\t\t\tmaxLength: 16,\r\n\t\t\t\t\t\t\t\terrorMessage: '确认密码长度在 {minLength} 到 {maxLength} 个字符'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tnickname: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\tminLength: 2,\r\n\t\t\t\t\t\t\tmaxLength: 12,\r\n\t\t\t\t\t\t\terrorMessage: '昵称长度为{maxLength} 个字符'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\temail: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\tformat: 'email',\r\n\t\t\t\t\t\t\terrorMessage: '请输入正确的邮箱地址'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tuser_group: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请选择用户组'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t// 用户组列表\r\n\t\t\t\tlist_user_group: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\tas(obj, query, all) {\r\n\t\t\t\tif (obj) {\r\n\t\t\t\tvar bl = true;\r\n\t\t\t\tvar type = typeof(obj);\r\n\t\t\t\tif (type !== typeof(query)) {\r\n\t\t\t\t\t// 如果类型不一致 则两个无相似\r\n\t\t\t\t\tbl = false;\r\n\t\t\t\t} else if (type === 'string' || type === 'bool' || type === 'number') {\r\n\t\t\t\t\tbl = obj === query;\r\n\t\t\t\t} else if (obj.constructor == Array) {\r\n\t\t\t\t\t// 如果都是数组\r\n\t\t\t\t\tvar lh = obj.length;\r\n\t\t\t\t\tif (all && lh !== query.length) {\r\n\t\t\t\t\t// 要求完全一致 而长度不一致 说明不相似\r\n\t\t\t\t\tbl = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t// 否则判断数组里的每个成员是否相似\r\n\t\t\t\t\tfor (var i = 0; i < lh; i++) {\r\n\t\t\t\t\t\tif (!this.as(obj[i], query[i])) {\r\n\t\t\t\t\t\tbl = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 如果类型为对象\r\n\t\t\t\t\tif (all && Object.getOwnPropertyNames(obj).length !== Object.getOwnPropertyNames(query).length) {\r\n\t\t\t\t\t// 如果要求完全一致, 而属性长度不一致，则不相似\r\n\t\t\t\t\tbl = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t// 否则都为对象则判断其值是否一致\r\n\t\t\t\t\tfor (var k in query) {\r\n\t\t\t\t\t\tif (!this.as(obj[k], query[k], all)) {\r\n\t\t\t\t\t\tbl = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn bl;\r\n\t\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetObj (data,query) {\r\n\t\t\t\tvar obj;\r\n\t\t\t\tif (query) {\r\n\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\tvar o = data[i];\r\n\t\t\t\t\t\tif (this.as(o, query)) {\r\n\t\t\t\t\t\t\tobj = o;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn obj;\r\n\t\t\t},\r\n\t\t\tgetVal (data,key, query) {\r\n\t\t\t\tvar obj = this.getObj(data,query);\r\n\t\t\t\tif (obj) {\r\n\t\t\t\t\treturn obj[key];\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleSubFormChange(data){\r\n\t\t\t\tthis.form_sub[data.type]=data.value\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * 提交事件\r\n\t\t\t * @param {Object} param 表单\r\n\t\t\t * @param {Object} func 返回函数\r\n\t\t\t */\r\n\t\t\tasync submit(param, func) {\r\n\t\t\t    // console.log('提交事件', param);\r\n\t\t\t    if (!param) {\r\n\t\t\t        param = this.form;\r\n\t\t\t    }\r\n\t\t\t    // 提交前事件\r\n\t\t\t    var pm = this.events(\"submit_before\", Object.assign({}, param)) || param;\r\n\t\t\t    // 提交前验证事件\r\n\t\t\t    var msg = await this.events(\"submit_check\", pm);\r\n\t\t\t    var ret;\r\n\t\t\t\tconsole.log(\"提交前错误信息：\" ,msg);\r\n\t\t\t    // 判断错误\r\n\t\t\t    if (msg) {\r\n\t\t\t        this.$toast(msg, 'danger');\r\n\t\t\t    } else {\r\n\t\t\t        // 提交表单\r\n\t\t\t        ret = this.events(\"submit_main\", pm, func);\r\n\t\t\t    }\r\n\t\t\t    // 返回结果\r\n\t\t\t    return ret;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * 提交前事件\r\n\t\t\t * @param {Object} param\r\n\t\t\t */\r\n\t\t\tsubmit_before(param){\r\n\t\t\t\tvar user_group = param.user_group;\r\n\t\t\t\t\tif(user_group === \"系统用户\"){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(user_group === \"咨询师\"){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * 提交前校验\r\n\t\t\t * @param {Object} param\r\n\t\t\t */\r\n\t\t\tasync submit_check(param){\r\n\t\t\t\tvar ret = null;\r\n\t\t\t\t\r\n\t\t\t\tvar email_regular = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\r\n\t\t\t\tvar phone_regular = /^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/;\r\n\t\t\t\t\r\n\t\t\t\tvar {username ,password ,nickname ,user_group ,email ,phone} = param;\r\n\t\t\t\t\r\n\t\t\t\tvar confirm_password = this.confirm_password;\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"表单校验username ,password ,email ,nickname ,user_group\" ,username ,password ,email ,nickname ,user_group);\r\n\t\t\t\t\r\n\t\t\t\tif(!username){\r\n\t\t\t\t\tret = \"账号不能为空\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(username.length > 16 || username.length < 5){\r\n\t\t\t\t\tret = \"账号长度应为5到16个字符之间！\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(!password){\r\n\t\t\t\t\tret = \"密码不能为空!\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(password.length > 16 || password.length < 5){\r\n\t\t\t\t\tret = \"密码长度应为5到16个字符之间！\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(nickname && nickname.length > 12 || nickname.length < 2){\r\n\t\t\t\t\tret = \"昵称长度应为2个字符到12个字符之间\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(email && !email_regular.test(email)){\r\n\t\t\t\t\tret = \"请输入正确的邮箱地址 例：test@test.com!\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(phone && !phone_regular.test(phone)){\r\n\t\t\t\t\tret = \"请输入正确的手机号码 例：18955552312!\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(password != confirm_password){\r\n\t\t\t\t\tret = \"确认密码与密码不一致！\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(!user_group){\r\n\t\t\t\t\tret = \"请选择用户组!\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(!ret && user_group){\r\n\t\t\t\t\t\tif(user_group === \"系统用户\"){\r\n\t\t\t\t\t\tvar form_sub = Object.assign({} ,this.form_sub);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(user_group === \"咨询师\"){\r\n\t\t\t\t\t\tvar form_sub = Object.assign({} ,this.form_sub);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar p = {\"username\": param.username};\r\n\t\t\t\t\r\n\t\t\t\tif(!ret){\r\n\t\t\t\t\tvar res = await this.$get(\"~/api/user/count?\" ,p);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\tret = \"用户已存在!\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn ret;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * 提交成功后\r\n\t\t\t * @param {Object} json\r\n\t\t\t * @param {Object} func\r\n\t\t\t */\r\n\t\t\tsubmit_after(json ,func){\r\n\t\t\t\tvar form = Object.assign({} ,this.form);\r\n\t\t\t\tdelete form.password;\r\n\t\t\t\tconsole.log(\"查询表单form\",form)\r\n\t\t\t\tvar table = this.getVal(this.list_user_group,\"source_table\",{\"name\": form.user_group});\r\n\t\t\t\tconsole.log(\"关联表:\" ,table);\r\n\t\t\t\tif(table){\r\n\t\t\t\t\tthis.get_register(form ,table);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.log(\"用户组没有关联表\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * 获取注册表信息\r\n\t\t\t * @param {Object} form\r\n\t\t\t * @param {Object} table\r\n\t\t\t */ \r\n\t\t\tget_register(form ,table){\r\n\t\t\t\tvar form_sub = this.form_sub;\r\n\t\t\t\tthis.$get(\"~/api/user/get_obj?\",form,(res)=>{\r\n\t\t\t\t\tconsole.log(\"注册表信息res\",res);\r\n\t\t\t\t\tif(res.result && res.result.obj){\r\n\t\t\t\t\t\tform_sub.user_id = res.result.obj.user_id;\r\n\t\t\t\t\t\tthis.submit_sub(form_sub,table);\r\n\t\t\t\t\t}else if(res.error){\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\tthis.$toast(res.error.message ,\"error\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t *  提交附加信息\r\n\t\t\t */\r\n\t\t\tsubmit_sub(form ,table) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.$post(\"~/api/\" + table +\"/add?\", form, (res) => {\r\n\t\t\t\t\tconsole.log(\"提交结果res：\" ,res);\r\n\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t_this.$toast(\"注册成功!\");\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tthis.$nav(\"/pages/index/index\");\r\n\t\t\t\t\t\t},1000);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 选择学校时触发\r\n\t\t\tselect_group(e) {\r\n\t\t\t\t// 选中后会触发这个回调函数 e.target.value是你选中的下拉菜单数组的索引\r\n\t\t\t\tconst i = e.target.value // 将根据索引将你选中的学校名称在数组中找出来  \r\n\t\t\t\tvar list = this.list_user_group;\r\n\t\t\t\tthis.form.user_group = list[i].name;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取用户组\r\n\t\t\tget_list_user_group(){\r\n\t\t\t\tthis.$get(\"~/api/user_group/get_list?register_min=2&register_max=3\" ,{} ,(res)=>{\r\n\t\t\t\t\tif(res.result && res.result.list){\r\n\t\t\t\t\t\tthis.list_user_group = res.result.list;\r\n\t\t\t\t\t}else if(res.error){\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.get_list_user_group();\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#account_register .mm_container{\r\n\t\tpadding: 2rem 1rem 0;\r\n\t}\r\n\t#account_register .row{\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t#account_register .register_view {\r\n\t\tbackground-color: rgb(255,255,255,0.8);\r\n\t\toverflow: hidden;\r\n\t\tborder-radius: 0.5rem;\r\n\t}\r\n\r\n\t#account_register picker {\r\n\t\tbox-sizing: border-box;\r\n\t\tfont-size: 1rem;\r\n\t\twidth: 100%;\r\n\t\theight: 2rem;\r\n\t\tline-height: 2rem;\r\n\t\tbackground-color: #FFF;\r\n\t\tborder: 1px solid #ddd;\r\n\t\tborder-radius: 0.25rem;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\r\n\t#account_register .title {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t#account_register .btn_register {\r\n\t\ttext-align: center;\r\n\t\tpadding: var(--padding_small);\r\n\t\tbackground-color: var(--color_blue);\r\n\t\tcolor: var(--color_white);\r\n\t\tborder-radius: var(--radius_small);\r\n\t\tmargin: var(--margin_base) 0;\r\n\t}\r\n\r\n\t#account_register .title {\r\n\t\tdisplay: block;\r\n\t\tcolor: var(--color_primary_h);\r\n\t\tpadding-bottom: var(--padding_mini);\r\n\t\tborder-bottom: 2px solid var(--color_dark);\r\n\t\tfont-size: var(--font_big);\r\n\t\tmargin-bottom: var(--margin_base);\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./register.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./register.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1677921842012\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}